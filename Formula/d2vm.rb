# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class D2vm < Formula
  desc "Build Virtual Machine Image from Dockerfile or Docker image"
  homepage "https://github.com/linka-cloud/d2vm"
  version "0.1.0-rc3"
  license "Apache License 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/linka-cloud/d2vm/releases/download/v0.1.0-rc3/d2vm_v0.1.0-rc3_darwin_arm64.tar.gz"
      sha256 "0a1e6b6579af615ed91207766fa2061beeb125201c51f0c978f351e517e2a403"

      def install
        bin.install "d2vm"
        bash_completion.install "completions/d2vm.bash" => "d2vm"
        zsh_completion.install "completions/d2vm.zsh" => "_d2vm"
        fish_completion.install "completions/d2vm.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/linka-cloud/d2vm/releases/download/v0.1.0-rc3/d2vm_v0.1.0-rc3_darwin_amd64.tar.gz"
      sha256 "e44982ba7e127e12cee7b2f5b0526e096509d7d14f60a34aebb4c6e6c45b7aed"

      def install
        bin.install "d2vm"
        bash_completion.install "completions/d2vm.bash" => "d2vm"
        zsh_completion.install "completions/d2vm.zsh" => "_d2vm"
        fish_completion.install "completions/d2vm.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/linka-cloud/d2vm/releases/download/v0.1.0-rc3/d2vm_v0.1.0-rc3_linux_arm64.tar.gz"
      sha256 "05c9c4d594d4c2ca0ca884b3aaadfca5b13741234bf7a5dddcc790a4ab8130cf"

      def install
        bin.install "d2vm"
        bash_completion.install "completions/d2vm.bash" => "d2vm"
        zsh_completion.install "completions/d2vm.zsh" => "_d2vm"
        fish_completion.install "completions/d2vm.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/linka-cloud/d2vm/releases/download/v0.1.0-rc3/d2vm_v0.1.0-rc3_linux_amd64.tar.gz"
      sha256 "8ee92d5b90eb3e708a3d40268631ef98da3b4981a7c3cb1f2f7993d1d09ac9ef"

      def install
        bin.install "d2vm"
        bash_completion.install "completions/d2vm.bash" => "d2vm"
        zsh_completion.install "completions/d2vm.zsh" => "_d2vm"
        fish_completion.install "completions/d2vm.fish"
      end
    end
  end

  depends_on "go" => :optional
  depends_on "git"

  test do
    system "#{bin}/d2vm --version"
  end
end
